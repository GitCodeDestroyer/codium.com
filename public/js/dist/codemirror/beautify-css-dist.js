!function(){function W(i,e){function t(){return(_=i.charAt(++g))||""}function r(e){var n=g;return e&&s(),result=i.charAt(g+1)||"",g=n-1,t(),result}function n(e){for(var n=g;t();)if("\\"===_)t();else{if(-1!==e.indexOf(_))break;if("\n"===_)break}return i.substring(n,g+1)}function s(){for(var e="";d.test(r());)t(),e+=_;return e}function u(){var e="";for(_&&d.test(_)&&(e=_);d.test(t());)e+=_;return e}function a(e){var n=g;e="/"===r();for(t();t();){if(!e&&"*"===_&&"/"===r()){t();break}if(e&&"\n"===_)return i.substring(n,g)}return i.substring(n,g)+_}function f(e){return i.substring(g-e.length,g).toLowerCase()===e}function p(){for(var e=g+1;e<i.length;e++){var n=i.charAt(e);if("{"===n)return!0;if(";"===n||"}"===n||")"===n)return!1}return!1}var o=(e=e||{}).indent_size||4,c=e.indent_char||" ",l=void 0===e.selector_separator_newline||e.selector_separator_newline,h=void 0!==e.end_with_newline&&e.end_with_newline,w=void 0===e.newline_between_rules||e.newline_between_rules;"string"==typeof o&&(o=parseInt(o,10));var _,d=/^\s+$/,g=-1,L=i.match(/^[\t ]*/)[0],v=new Array(o+1).join(c),b=0,S=0,y={"{":function(e){y.singleSpace(),m.push(e),y.newLine()},"}":function(e){y.newLine(),m.push(e),y.newLine()},_lastCharWhitespace:function(){return d.test(m[m.length-1])},newLine:function(e){e||y.trim(),m.length&&m.push("\n"),L&&m.push(L)},singleSpace:function(){m.length&&!y._lastCharWhitespace()&&m.push(" ")},trim:function(){for(;y._lastCharWhitespace();)m.pop()}},m=[];L&&m.push(L);for(var O,A,E,C=!1,N=!1,R="",T="";;){var U=u(),k=""!==U,x=-1!==U.indexOf("\n");T=R,R=_;if(!_)break;if("/"===_&&"*"===r()){var I=f("");y.newLine(),m.push(a()),y.newLine(),I&&y.newLine(!0)}else if("/"===_&&"/"===r())x||"{"===T||y.trim(),y.singleSpace(),m.push(a()),y.newLine();else if("@"===_){k&&y.singleSpace(),m.push(_);var D=(O=": ,;{}()[]/='\"",void 0,void 0,A=g,E=n(O),g=A-1,t(),E).replace(/\s$/,"");D in W.NESTED_AT_RULE?(S+=1,D in W.CONDITIONAL_GROUP_RULE&&(N=!0)):0<=": ".indexOf(D[D.length-1])&&(t(),D=n(": ").replace(/\s$/,""),m.push(D),y.singleSpace())}else"{"===_?"}"===r(!0)?(s(),t(),y.singleSpace(),m.push("{}"),y.newLine(),w&&0===b&&y.newLine(!0)):(b++,L+=v,y["{"](_),N?(N=!1,C=S<b):C=S<=b):"}"===_?(b--,L=L.slice(0,-o),y["}"](_),C=!1,S&&S--,w&&0===b&&y.newLine(!0)):":"===_?(s(),!C&&!N||f("&")||p()?":"===r()?(t(),m.push("::")):m.push(":"):(m.push(":"),y.singleSpace())):'"'===_||"'"===_?(k&&y.singleSpace(),m.push(n(_))):";"===_?(m.push(_),y.newLine()):"("===_?f("url")?(m.push(_),s(),t()&&(")"!==_&&'"'!==_&&"'"!==_?m.push(n(")")):g--)):(k&&y.singleSpace(),m.push(_),s()):")"===_?m.push(_):","===_?(m.push(_),s(),!C&&l?y.newLine():y.singleSpace()):("]"===_||("["===_?k&&y.singleSpace():"="===_?s():k&&y.singleSpace()),m.push(_))}var $=m.join("").replace(/[\r\n\t ]+$/,"");return h&&($+="\n"),$}W.NESTED_AT_RULE={"@page":!0,"@font-face":!0,"@keyframes":!0,"@media":!0,"@supports":!0,"@document":!0},W.CONDITIONAL_GROUP_RULE={"@media":!0,"@supports":!0,"@document":!0},"function"==typeof define&&define.amd?define([],function(){return{css_beautify:W}}):"undefined"!=typeof exports?exports.css_beautify=W:"undefined"!=typeof window?window.css_beautify=W:"undefined"!=typeof global&&(global.css_beautify=W)}();
